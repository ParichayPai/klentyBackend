[{"/home/parichay/Documents/klenty1/client/src/index.js":"1","/home/parichay/Documents/klenty1/client/src/App.js":"2","/home/parichay/Documents/klenty1/client/src/components/Login.jsx":"3","/home/parichay/Documents/klenty1/client/src/components/Home.jsx":"4","/home/parichay/Documents/klenty1/client/src/components/Signup.jsx":"5","/home/parichay/Documents/klenty1/client/src/components/SinglePost.jsx":"6","/home/parichay/Documents/klenty1/client/src/components/AddButton.jsx":"7","/home/parichay/Documents/klenty1/client/src/components/Header.jsx":"8","/home/parichay/Documents/klenty1/client/src/components/PostCard.jsx":"9","/home/parichay/Documents/klenty1/client/src/components/Comment.jsx":"10","/home/parichay/Documents/klenty1/client/src/components/AddPost.jsx":"11"},{"size":321,"mtime":1607266040000,"results":"12","hashOfConfig":"13"},{"size":607,"mtime":1607268791607,"results":"14","hashOfConfig":"13"},{"size":2655,"mtime":1607266475646,"results":"15","hashOfConfig":"13"},{"size":3521,"mtime":1607266040000,"results":"16","hashOfConfig":"13"},{"size":2186,"mtime":1607266040000,"results":"17","hashOfConfig":"13"},{"size":4566,"mtime":1607268827370,"results":"18","hashOfConfig":"13"},{"size":1293,"mtime":1607266040000,"results":"19","hashOfConfig":"13"},{"size":5242,"mtime":1607268732345,"results":"20","hashOfConfig":"13"},{"size":2630,"mtime":1607266040000,"results":"21","hashOfConfig":"13"},{"size":1417,"mtime":1607266040000,"results":"22","hashOfConfig":"13"},{"size":2479,"mtime":1607266040000,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1t04uus",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"26"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/parichay/Documents/klenty1/client/src/index.js",[],["52","53"],"/home/parichay/Documents/klenty1/client/src/App.js",["54","55"],"import './App.css';\nimport {Switch, Route, Redirect} from \"react-router\"\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\"\nimport Signin from \"./components/Signup\"\nimport Post from \"./components/SinglePost\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n     <Switch>\n         {/*<Route path={\"/login\"} component={Login} />*/}\n         {/*<Route path={\"/signin\"} component={Signin} />*/}\n         <Route path={\"/post\"} component={Post} />\n         <Route path={\"/\"} component={Home} />\n         <Redirect to={Home} />\n     </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","/home/parichay/Documents/klenty1/client/src/components/Login.jsx",[],"/home/parichay/Documents/klenty1/client/src/components/Home.jsx",["56","57"],"import React from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Header from \"./Header\"\nimport AddButton from \"./AddButton\"\nimport PostCard from \"./PostCard\"\nimport Axios from \"axios\";\nconst backendUrl = \"http://localhost:5000/api/v1/\"\n\nconst useStyles = makeStyles((theme) => ({\n   home:{\n       display:\"flex\",\n       flexDirection: \"column\",\n       justifyContent:\"center\",\n       flexWrap: \"wrap\",\n    },\n}));\n\n\nexport default function Home(){\n    const history = useHistory();\n    const style = useStyles();\n\n    const [postList, setPostList] = React.useState([]);\n    const [user, setUser] = React.useState(\"Login\");\n\n    const handleUser = (name) => {\n        setUser(name);\n    }\n\n    const getData = () => {\n        fetch(backendUrl+\"posts\", {\n            method : \"get\",\n        }).then(res => res.json())\n            .then(res2 => {setPostList(res2)});\n    }\n\n    React.useEffect(() => {\n        getData();\n    }, []);\n\n\n    const saveData = (title, description, username) => {\n        Axios.post(backendUrl+\"posts/\", {\n            title,\n            description,\n            username\n        }).then(()=>{getData();console.log(\"post sent\")})\n            .catch(err => console.log(err));\n    }\n\n    const getUser = () => {\n        Axios({\n            method: \"GET\",\n            withCredentials: true,\n            url: \"http://localhost:5000/api/v1/user\",\n        }).then((res) => {\n            if(res.data === \"No User Exists\" || res.data === \"\"){\n                handleUser(\"Login\");\n                console.log(res.data);\n                return;\n            }\n            handleUser(res.data);\n            console.log(\"hi\", res.data);\n            // if(res.data !== \"No User Exists\"){\n            //     handleUser(res.data);\n            // }\n            // // setUserData(res.data);\n            // console.log(res);\n        });\n    };\n\n    React.useEffect(() => {\n        getUser();\n        // if(!user){\n        //     handleUser(\"Login\");\n        // }\n    }, []);\n\n    const logout = () => {\n        setUser(\"Login\");\n        Axios({\n            method: \"GET\",\n            withCredentials: true,\n            url: \"http://localhost:5000/api/v1/logout\",\n        }).then((req, res) => {\n            // if(res.data !== \"No User Exists\"){\n            //     handleUser(res.data);\n            // }\n            // setUserData(res.data);\n            console.log(res);\n            setUser(\"Login\");\n        });\n    }\n\n    return(\n        <>\n            <Header handleUser={handleUser} userdata={user} logout={logout} getUser={getUser}/>\n            <hr />\n            <div className={\"appBody\"}>\n                <AddButton saveData={saveData} user={user}/>\n                <hr />\n                <div className={style.home}>\n                    {(postList.length === 0) ?\n                        <div className={\"center\"}>{\"No Posts Added!\"}</div>\n                        : postList.map((post, index) => {\n                            return <PostCard\n                                data={post}\n                                key={`${post.title}${index}`}\n                                index={index}\n                                saveData={saveData}\n                                getUser={getUser}\n                                logout={logout}\n                                currentUser={user}\n                            />\n                        })\n                    }\n                </div>\n            </div>\n        </>\n    )\n}","/home/parichay/Documents/klenty1/client/src/components/Signup.jsx",[],"/home/parichay/Documents/klenty1/client/src/components/SinglePost.jsx",["58","59","60"],"import { Button, makeStyles, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Comment from \"./Comment\";\nimport Axios from \"axios\";\n\nconst backendUrl = \"http://localhost:5000/api/v1/\"\n\nconst useStyles = makeStyles(() => ({\n    singleItem: {\n        marginLeft: 50,\n        marginRight: 50,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    body:{\n        display: \"flex\",\n        flexDirection: \"row\",\n        // justifyContent: \"space-between\"\n    },\n    image: {\n        height: 300,\n        width: 300,\n        border: \"2px solid black\",\n        // border: 2,\n        // borderColor: \"black\"\n    },\n    description: {\n        width: \"60%\",\n        fontFamily: \"monospace\",\n        marginLeft: 20,\n        fontSize: 20\n    },\n    commentSection: {\n        marginTop: 20,\n        paddingLeft: 50,\n        paddingRight: 50,\n        paddingBlockEnd: 20,\n    },\n    newComment: {\n        // border: \"2px solid black\",\n        height: 200,\n        marginTop: 20,\n        marginBlockEnd: 20\n    },\n    subtitle:{\n        display:\"flex\",\n        paddingLeft: 25\n    },\n    textBox: {\n        padding: 10,\n    }\n}));\n\nexport default function SinglePost(props){\n    const style = useStyles();\n    const history = useHistory();\n    let {title, description, id, username} = props.location.state;\n    console.log(\"----\")\n    console.log(props);\n    let currentUser = props.location.currentUser;\n    const [userName, setUserName] = React.useState(props.userdata);\n\n    const handleUser = (name) => {\n        setUserName(name);\n    }\n\n    const [commentArr, setCommentArr] = React.useState([]);\n    const [commentData, setCommentData] = React.useState('');\n\n    const getComments = () => {\n        fetch(backendUrl+\"getComments/\"+id, {\n            method : \"get\",\n        }).then(res => res.json())\n            .then(res2 => {setCommentArr(res2)});\n    }\n    React.useEffect(() => {\n        getComments();\n    }, []);\n\n    const backFunction = () => {\n        history.push(\"/\");\n    }\n\n    const postComment = (name, postId, commentData,userName) => {\n        console.log(userName);\n        Axios.post(backendUrl+\"postComment/\", {\n            postId,\n            name,\n            commentData,\n            userName\n        }).then(()=>{getComments();setCommentData(\"\")})\n    }\n\n    return(\n        <>\n            <Header handleUser={handleUser} userdata={props.location.currentUser} logout={props.location.logout} getUser={props.location.getUser}/>\n            <hr />\n            <div className={style.singleItem}>\n                <div className={style.header}>\n                    <Typography variant={\"h4\"}>{title}</Typography>\n                    <Button variant=\"contained\" onClick={backFunction}>Back</Button>\n                </div>\n                <hr />\n                <div className={style.body}>\n                    <div className={style.image}>\n                        <img src={\"#\"} alt=\"IMAGES\" className={style.image}/>\n                    </div>\n                    <div className={style.description}>\n                        <div className={style.subtitle}><Typography variant={\"h5\"}>Description</Typography></div>\n                        {description}\n                    </div>\n                </div>\n                <hr />\n                <div className={style.commentSection}>\n                    {commentArr.length === 0 ?\n                        <div><h4>No Comments</h4></div>:\n                        commentArr.map(\n                            comment => <Comment key={Object.values(comment)} data={comment} />\n                        )\n                    }\n                    <div className={style.newComment}>\n                    <textarea\n                        name=\"newComment\"\n                        id=\"\"\n                        cols=\"70\"\n                        rows=\"13\"\n                        value={commentData}\n                        onChange={(e) => setCommentData(e.target.value)}\n                        placeholder={\"Enter a comment\"}\n                        className={style.textBox}\n                    ></textarea>\n                    </div>\n                    <Button\n                        variant=\"contained\"\n                        onClick={()=>postComment(title, id, commentData,currentUser)}\n                        disabled={currentUser === \"Login\"}\n                    >Post Comment\n                    </Button>\n                </div>\n            </div>\n        </>)\n}\n","/home/parichay/Documents/klenty1/client/src/components/AddButton.jsx",[],"/home/parichay/Documents/klenty1/client/src/components/Header.jsx",["61"],"import React from \"react\";\nimport Axios from \"axios\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport {useHistory} from \"react-router-dom\";\nimport {Typography} from \"@material-ui/core\";\nimport Login from \"./Login\"\nimport Signup from \"./Signup\"\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme) => ({\n    header:{\n        display: \"flex\",\n        height: 60,\n    },\n    title: {\n        marginLeft: 450,\n        marginTop: 5,\n        fontFamily: 'Josefin Sans',\n        cursor: \"pointer\"\n    },\n    login:{\n        fontSize: 20,\n        marginLeft: \"auto\",\n        marginTop: 10,\n        marginRight: 30,\n        cursor: \"pointer\",\n        border: \"1px solid grey\",\n        borderRadius: 5,\n        height: 40,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    logout: {\n        fontSize: 20,\n        marginLeft: 280,\n        marginRight: 10,\n        marginTop: 20,\n        cursor: \"pointer\",\n    }\n}));\n\nexport default function Header(props){\n    console.log(props);\n\n    // const [userData, setUserData] = React.useState(\"Login!\");\n    const [openLoginForm, setOpenLoginForm] = React.useState(false);\n    const [openSignUpForm, setOpenSignUpForm] = React.useState(false);\n    const [registerUsername, setRegisterUsername] = React.useState(\"\");\n    const [registerPassword, setRegisterPassword] = React.useState(\"\");\n    const [loginUsername, setLoginUsername] = React.useState(\"\");\n    const [loginPassword, setLoginPassword] = React.useState(\"\");\n\n    let style = useStyles();\n    const history = useHistory();\n\n    const goToHome = () => {\n        history.push(\"/\");\n    }\n\n    const loginForm = () => {\n        setOpenLoginForm(!openLoginForm)\n    }\n\n    const signUpForm = () => {\n        setOpenSignUpForm(!openSignUpForm);\n    }\n\n    // const handleUserData = (name) => {\n    //     setUserData(name);\n    //     props.handleUser(name);\n    // }\n\n    const handleRegisterUsername = (name) => {\n        setRegisterUsername(name);\n    }\n\n    const handleRegisterPassword = (password) => {\n        setRegisterPassword(password);\n    }\n\n    const handleLoginUsername = (name) => {\n        setLoginUsername(name);\n    }\n\n    const handleLoginPassword = (password) => {\n        setLoginPassword(password);\n    }\n\n    const register = () => {\n        Axios({\n            method: \"POST\",\n            data: {\n                username: registerUsername,\n                password: registerPassword,\n            },\n            withCredentials: true,\n            url: \"http://localhost:5000/api/v1/register\",\n        }).then((res) => console.log(res));\n    };\n    const login = () => {\n        Axios({\n            method: \"POST\",\n            data: {\n                username: loginUsername,\n                password: loginPassword,\n            },\n            withCredentials: true,\n            url: \"http://localhost:5000/api/v1/login\",\n        }).then((res) => console.log(res)).then(props.getUser())\n            .catch(err => console.log(err));\n    };\n\n        // const getUser = () => {\n        //     Axios({\n        //         method: \"GET\",\n        //         withCredentials: true,\n        //         url: \"http://localhost:5000/api/v1/user\",\n        //     }).then((res) => {\n        //         if(res.data !== \"No User Exists\" || !res.data){\n        //             props.handleUser(\"Login\");\n        //             console.log(res.data);\n        //         }\n        //         // else{\n        //         //     props.handleUser(\"Login\");\n        //         //     console.log(res.data);\n        //         // }\n        //         props.handleUser(res.data);\n        //     });\n        // };\n\n    const logout = () => {\n        props.logout();\n        if(window.location.href !== \"http://localhost:3000/\"){\n            history.push(\"/\");\n        }\n    }\n\n    return(\n        <div className={style.header}>\n            {/*<Button onClick={props.getUser}>getUser</Button>*/}\n            <Typography variant={\"h3\"} className={style.title} onClick={goToHome} >Klenty Assignment</Typography>\n            <span id={\"logout\"} className={style.logout} onClick={logout}>Logout</span>\n            <span id=\"profile\" className={style.login} onClick={loginForm}>{props.userdata}</span>\n            {openLoginForm ?\n                <Login\n                    open={openLoginForm}\n                    toggle={loginForm}\n                    username={loginUsername}\n                    setUsername={handleLoginUsername}\n                    password={loginPassword}\n                    setPassword={handleLoginPassword}\n                    login={login}\n                    handleUserData={props.handleUser}\n                    signUp={signUpForm}\n                    getUser={props.getUser}\n                /> : null}\n            {openSignUpForm ?\n                <Signup\n                    open={openSignUpForm}\n                    username={registerUsername}\n                    setUsername={handleRegisterUsername}\n                    password={registerPassword}\n                    setPassword={handleRegisterPassword}\n                    toggle={signUpForm}\n                    register={register}\n                /> : null}\n        </div>\n    )\n\n}","/home/parichay/Documents/klenty1/client/src/components/PostCard.jsx",["62"],"import React from \"react\";\nimport {Box, Button, IconButton, Paper, Typography} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n    margin: {\n        margin: theme.spacing(1.5),\n        height:50,\n    },\n    card: {\n        height: 150,\n        width: \"75%\",\n        margin: 15,\n        marginLeft:\"auto\",\n        marginRight:\"auto\"\n    },\n    titleBox:{\n        height: 50,\n    },\n    title:{\n        display: \"flex\",\n        marginRight:\"auto\",\n        marginLeft: 15,\n        marginTop:10\n    },\n    header:{\n        display:\"flex\",\n        flexDirection: \"row\"\n    },\n    user:{\n        marginLeft: \"auto\",\n        marginRight: 20,\n        marginTop:10\n    }\n}));\n\nexport default function PostCard(props){\n    const style = useStyles();\n    const history = useHistory();\n    const {title, username, description} = props.data;\n    const id = props.data._id;\n    const currentUser = props.currentUser;\n\n    console.log(props);\n    const handleClickOnCard = (id, title, description, index, saveData, currentUser, getUser, logout) => {\n        history.push({\n            pathname: `/post/${index}/`,\n            search: `?title=${title}`,\n            state: {\n                id,\n                title,\n                description,\n                username\n            },\n            saveData: saveData,\n            getUser: getUser,\n            logout: logout,\n            currentUser: currentUser\n        })\n    }\n    return (\n        <>\n            <Paper\n                // key={props.key}\n                elevation={3}\n                m={5}\n                className={style.card}\n            >\n                <Box onClick={() => handleClickOnCard(id, title, description, props.index, props.saveData, currentUser, props.getUser, props.logout )}>\n                    <div className={style.titleBox} >\n                        <Box className={style.header}>\n                            <Typography variant=\"h4\" className={style.title}>{title}</Typography>\n                            <Typography variant=\"h4\" className={style.user}>{username}</Typography>\n                        </Box>\n                    </div>\n\n                    <hr/>\n                    <div className={\"cardBody\"}>\n                        <Typography variant=\"h5\" className={style.title}>{`${description.substring(0,30)}...`}</Typography>\n                        <Button>\n                            Read More\n                        </Button>\n                    </div>\n                </Box>\n            </Paper>\n        </>\n    )\n}","/home/parichay/Documents/klenty1/client/src/components/Comment.jsx",[],"/home/parichay/Documents/klenty1/client/src/components/AddPost.jsx",[],{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":4,"column":8,"nodeType":"69","messageId":"70","endLine":4,"endColumn":13},{"ruleId":"67","severity":1,"message":"71","line":5,"column":8,"nodeType":"69","messageId":"70","endLine":5,"endColumn":14},{"ruleId":"67","severity":1,"message":"72","line":21,"column":11,"nodeType":"69","messageId":"70","endLine":21,"endColumn":18},{"ruleId":"73","severity":1,"message":"74","line":78,"column":8,"nodeType":"75","endLine":78,"endColumn":10,"suggestions":"76"},{"ruleId":"67","severity":1,"message":"77","line":61,"column":34,"nodeType":"69","messageId":"70","endLine":61,"endColumn":42},{"ruleId":"67","severity":1,"message":"78","line":65,"column":12,"nodeType":"69","messageId":"70","endLine":65,"endColumn":20},{"ruleId":"73","severity":1,"message":"79","line":82,"column":8,"nodeType":"75","endLine":82,"endColumn":10,"suggestions":"80"},{"ruleId":"67","severity":1,"message":"81","line":8,"column":8,"nodeType":"69","messageId":"70","endLine":8,"endColumn":14},{"ruleId":"67","severity":1,"message":"82","line":2,"column":22,"nodeType":"69","messageId":"70","endLine":2,"endColumn":32},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'Signin' is defined but never used.","'history' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'getUser'. Either include it or remove the dependency array.","ArrayExpression",["85"],"'username' is assigned a value but never used.","'userName' is assigned a value but never used.","React Hook React.useEffect has a missing dependency: 'getComments'. Either include it or remove the dependency array.",["86"],"'Button' is defined but never used.","'IconButton' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"87","fix":"88"},{"desc":"89","fix":"90"},"Update the dependencies array to be: [getUser]",{"range":"91","text":"92"},"Update the dependencies array to be: [getComments]",{"range":"93","text":"94"},[2044,2046],"[getUser]",[2049,2051],"[getComments]"]